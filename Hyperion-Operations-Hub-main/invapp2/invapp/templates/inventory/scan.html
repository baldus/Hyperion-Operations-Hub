{% extends "base.html" %}
{% block content %}
<section class="scan-page">
  <h2>Inventory Scanner</h2>
  <p class="scan-intro">
    Use your device camera to scan a barcode or QR code. When a code is detected,
    the value will be placed in the field below so you can jump directly to the
    move form or view item details.
  </p>

  <form id="scanRouter" class="scan-form">
    <label for="barcodeOutput" class="scan-label">Scanned SKU</label>
    <input
      type="text"
      id="barcodeOutput"
      name="sku"
      autocomplete="off"
      placeholder="Scan or enter SKU"
    >

    {% include "inventory/_barcode_scanner.html" with context %}

    <div class="scan-actions">
      <button
        type="button"
        class="action-btn"
        data-scan-redirect="{{ url_for('inventory.move_home') }}"
        data-param="sku"
      >
        Open Move Form
      </button>
      <button
        type="button"
        class="action-btn"
        data-scan-redirect="{{ url_for('inventory.list_items') }}"
        data-param="search"
      >
        View Item Details
      </button>
    </div>
  </form>

  <p class="scan-help">
    Need to enter values manually? You can type into the field, then use the
    buttons above to continue. The scanner will remember the last successful
    code until you replace it.
  </p>
</section>
{% endblock %}
