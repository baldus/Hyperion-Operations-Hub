{% extends "base.html" %}

{% block content %}
<h2>Printer Settings</h2>

<table class="data-table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Connection</th>
            <th>Label Size (W x H)</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for printer in printers %}
        <tr>
            <td>
                <form method="post" action="{{ url_for('settings.printers.manage') }}">
                    <input type="hidden" name="id" value="{{ printer.id }}">
                    <input type="text" name="name" value="{{ printer.name }}">
            </td>
            <td><input type="text" name="connection" value="{{ printer.connection }}"></td>
            <td>
                <input type="number" step="any" name="label_width" value="{{ printer.label_width }}" style="width:5em;"> x
                <input type="number" step="any" name="label_height" value="{{ printer.label_height }}" style="width:5em;">
            </td>
            <td>
                <button type="submit" class="action-btn">Save</button>
                </form>
                <form method="post"
                      action="{{ url_for('settings.printers.test_printer', printer_id=printer.id) }}"
                      style="display:inline;">
                    <button type="submit" class="action-btn">Test</button>
                </form>
            </td>
        </tr>
    {% endfor %}
    <!-- New printer row -->
    <tr>
        <form method="post" action="{{ url_for('settings.printers.manage') }}">
            <td><input type="text" name="name" placeholder="Name"></td>
            <td><input type="text" name="connection" placeholder="IP or path"></td>
            <td>
                <input type="number" step="any" name="label_width" placeholder="W" style="width:5em;"> x
                <input type="number" step="any" name="label_height" placeholder="H" style="width:5em;">
            </td>
            <td><button type="submit" class="action-btn">Add</button></td>
        </form>
    </tr>
    </tbody>
</table>

{% endblock %}

